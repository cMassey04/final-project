{"ast":null,"code":"var _jsxFileName = \"/Users/jeremysamuel/Desktop/Spring 2024/FullstackDevelopment/Assignments/final-project/client/src/pages/login/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext.js\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const {\n    loading,\n    dispatch\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [credentials, setCredentials] = useState({\n    username: undefined,\n    password: undefined\n  });\n  const handleChange = e => {\n    setCredentials(prev => ({\n      ...prev,\n      [e.target.id]: e.target.value\n    }));\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    dispatch({\n      type: \"LOGIN_START\"\n    });\n    try {\n      const res = await axios.post(\"http://localhost:4000/auth/login\", credentials);\n      // console.log(res.data)\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: res.data\n      });\n      navigate(\"/freshman\"); // update where whatever their classification is it sends them to that page.\n    } catch (error) {\n      dispatch({\n        type: \"LOGIN_FAILURE\",\n        payload: error.response.data\n      });\n      if (error.response && error.response.status === 404) {\n        alert(\"User not found. Please check your credentials and try again.\");\n      } else {\n        alert(\"An error occurred. Please try again.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"email\",\n      id: \"email\",\n      onChange: handleChange,\n      className: \"lInput\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"password\",\n      id: \"password\",\n      onChange: handleChange,\n      className: \"lInput\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: loading,\n      onClick: handleLogin,\n      className: \"lButton\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"LlPVQ0Pc205xBnKbWyqUX2GF0Ew=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useContext","useState","AuthContext","useNavigate","axios","jsxDEV","_jsxDEV","LoginPage","_s","loading","dispatch","navigate","credentials","setCredentials","username","undefined","password","handleChange","e","prev","target","id","value","handleLogin","preventDefault","type","res","post","payload","data","error","response","status","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","className","disabled","onClick","_c","$RefreshReg$"],"sources":["/Users/jeremysamuel/Desktop/Spring 2024/FullstackDevelopment/Assignments/final-project/client/src/pages/login/Login.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext.js\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst LoginPage = () => {\n  const { loading, dispatch } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  const [credentials, setCredentials] = useState({\n    username: undefined,\n    password: undefined,\n  });\n\n  const handleChange = (e) => {\n    setCredentials((prev) => ({ ...prev, [e.target.id]: e.target.value }));\n  };\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    dispatch({ type: \"LOGIN_START\" });\n    try {\n      const res = await axios.post(\n        \"http://localhost:4000/auth/login\",\n        credentials\n      );\n      // console.log(res.data)\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n      navigate(\"/freshman\"); // update where whatever their classification is it sends them to that page.\n    } catch (error) {\n      dispatch({ type: \"LOGIN_FAILURE\", payload: error.response.data });\n      if (error.response && error.response.status === 404) {\n        alert(\"User not found. Please check your credentials and try again.\");\n      } else {\n        alert(\"An error occurred. Please try again.\");\n      }\n    }\n    \n  };\n\n  return (\n    <div>\n      <h2>Login Page</h2>\n      <input\n        type=\"text\"\n        placeholder=\"email\"\n        id=\"email\"\n        onChange={handleChange}\n        className=\"lInput\"\n      />\n      <input\n        type=\"password\"\n        placeholder=\"password\"\n        id=\"password\"\n        onChange={handleChange}\n        className=\"lInput\"\n      />\n      <button disabled={loading} onClick={handleLogin} className=\"lButton\">\n        Login\n      </button>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AACnD,SAASC,WAAW,QAAQ,8BAA8B;AAC1D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM;IAAEC,OAAO;IAAEC;EAAS,CAAC,GAAGV,UAAU,CAACE,WAAW,CAAC;EACrD,MAAMS,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACS,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC;IAC7Ca,QAAQ,EAAEC,SAAS;IACnBC,QAAQ,EAAED;EACZ,CAAC,CAAC;EAEF,MAAME,YAAY,GAAIC,CAAC,IAAK;IAC1BL,cAAc,CAAEM,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAE,CAACD,CAAC,CAACE,MAAM,CAACC,EAAE,GAAGH,CAAC,CAACE,MAAM,CAACE;IAAM,CAAC,CAAC,CAAC;EACxE,CAAC;EAED,MAAMC,WAAW,GAAG,MAAOL,CAAC,IAAK;IAC/BA,CAAC,CAACM,cAAc,CAAC,CAAC;IAClBd,QAAQ,CAAC;MAAEe,IAAI,EAAE;IAAc,CAAC,CAAC;IACjC,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMtB,KAAK,CAACuB,IAAI,CAC1B,kCAAkC,EAClCf,WACF,CAAC;MACD;MACAF,QAAQ,CAAC;QAAEe,IAAI,EAAE,eAAe;QAAEG,OAAO,EAAEF,GAAG,CAACG;MAAK,CAAC,CAAC;MACtDlB,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACdpB,QAAQ,CAAC;QAAEe,IAAI,EAAE,eAAe;QAAEG,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACF;MAAK,CAAC,CAAC;MACjE,IAAIC,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;QACnDC,KAAK,CAAC,8DAA8D,CAAC;MACvE,CAAC,MAAM;QACLA,KAAK,CAAC,sCAAsC,CAAC;MAC/C;IACF;EAEF,CAAC;EAED,oBACE3B,OAAA;IAAA4B,QAAA,gBACE5B,OAAA;MAAA4B,QAAA,EAAI;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACnBhC,OAAA;MACEmB,IAAI,EAAC,MAAM;MACXc,WAAW,EAAC,OAAO;MACnBlB,EAAE,EAAC,OAAO;MACVmB,QAAQ,EAAEvB,YAAa;MACvBwB,SAAS,EAAC;IAAQ;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC,eACFhC,OAAA;MACEmB,IAAI,EAAC,UAAU;MACfc,WAAW,EAAC,UAAU;MACtBlB,EAAE,EAAC,UAAU;MACbmB,QAAQ,EAAEvB,YAAa;MACvBwB,SAAS,EAAC;IAAQ;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC,eACFhC,OAAA;MAAQoC,QAAQ,EAAEjC,OAAQ;MAACkC,OAAO,EAAEpB,WAAY;MAACkB,SAAS,EAAC,SAAS;MAAAP,QAAA,EAAC;IAErE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAAC9B,EAAA,CAzDID,SAAS;EAAA,QAEIJ,WAAW;AAAA;AAAAyC,EAAA,GAFxBrC,SAAS;AA2Df,eAAeA,SAAS;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}